{"version":3,"file":"components-design-system-organism-read-next-d2a03753dccfa35e4940.js","mappings":"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","sources":["webpack://fabrizioduroni.it/./src/components/design-system/atoms/call-to-action-internal.tsx","webpack://fabrizioduroni.it/./src/components/call-to-action-internal-with-tracking.tsx","webpack://fabrizioduroni.it/./src/components/design-system/atoms/call-to-action-style.ts","webpack://fabrizioduroni.it/./src/components/design-system/atoms/heading6.tsx","webpack://fabrizioduroni.it/./src/components/design-system/molecules/recent-post-card.tsx","webpack://fabrizioduroni.it/./src/components/design-system/organism/read-next.tsx","webpack://fabrizioduroni.it/./src/components/design-system/hooks/use-shuffle-array.ts"],"sourcesContent":["import { Link } from \"gatsby\";\nimport styled from \"styled-components\";\nimport { callToActionStyle } from \"./call-to-action-style\";\n\nexport const CallToActionInternal = styled(Link)`\n  ${callToActionStyle}\n`;\n","import React from \"react\";\nimport { CallToActionInternal } from \"./design-system/atoms/call-to-action-internal\";\nimport { TrackingElementProps, trackWith } from \"../logic/tracking\";\n\ntype CallToActionInternalWithTrackingProps = TrackingElementProps & {\n  to: string;\n  className?: string;\n};\n\nexport const CallToActionInternalWithTracking: React.FC<CallToActionInternalWithTrackingProps> = ({\n  children,\n  className,\n  to,\n  trackingData,\n}) => (\n  <CallToActionInternal\n    className={className}\n    to={to}\n    onClick={() => {\n      trackWith(trackingData);\n    }}\n  >\n    {children}\n  </CallToActionInternal>\n);\n","import { css } from \"styled-components\";\nimport { mediaQuery } from \"../utils-css/media-query\";\n\nexport const callToActionStyle = css`\n  font-size: ${(props) => props.theme.fontSizes[3]};\n  background-color: ${(props) => props.theme.light.accentColor};\n  color: ${(props) => props.theme.light.textAbovePrimaryColor};\n  padding: ${(props) => props.theme.spacing[2]};\n  border: none;\n  border-radius: 4px;\n  margin: ${(props) => props.theme.spacing[0]};\n  line-height: 1;\n  text-align: center;\n  display: inline-block;\n\n  ${mediaQuery.dark} {\n    background-color: ${(props) => props.theme.dark.accentColor};\n    color: ${(props) => props.theme.dark.textAbovePrimaryColor};\n  }\n\n  color: ${(props) => props.theme.light.textAbovePrimaryColor};\n  text-decoration: none;\n\n  ${mediaQuery.inputDevice.mouse} {\n    transition: transform 0.15s;\n  }\n\n  &:hover {\n    color: ${(props) => props.theme.light.textAbovePrimaryColor};\n    text-decoration: none;\n\n    @media (prefers-color-scheme: dark) {\n      color: ${(props) => props.theme.dark.textAbovePrimaryColor};\n    }\n\n    ${mediaQuery.inputDevice.mouse} {\n      transform: scale(1.1);\n    }\n  }\n`;\n","import styled from \"styled-components\";\nimport { headingStyle } from \"./heading-style\";\n\nexport const Heading6 = styled.h6`\n  font-size: ${(props) => props.theme.fontSizes[6]};\n  ${headingStyle}\n`;\n","import styled from \"styled-components\";\nimport { Heading6 } from \"../atoms/heading6\";\nimport { GatsbyImage, IGatsbyImageData } from \"gatsby-plugin-image\";\nimport React from \"react\";\nimport { Paragraph } from \"../atoms/paragraph\";\nimport { tracking } from \"../../../logic/tracking\";\nimport { CallToActionInternalWithTracking } from \"../../call-to-action-internal-with-tracking\";\nimport { mediaQuery } from \"../utils-css/media-query\";\n\nconst CardButton = styled(CallToActionInternalWithTracking)`\n  margin-top: auto;\n  display: block;\n`;\n\nconst CardDescriptionContainer = styled.div`\n  margin: ${(props) => props.theme.spacing[3]};\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst CardContainer = styled.div<CardContainerProps>`\n  background-color: ${(props) => props.theme.light.generalBackgroundLight};\n  box-shadow: ${(props) => props.theme.light.boxShadowLight} 0 3px 10px 0;\n  width: 100%;\n  border-radius: 4px;\n  border: none;\n  margin: ${(props) => props.theme.spacing[2]} 0 0 0;\n  display: flex;\n  flex-direction: column;\n  margin: 0 ${(props) => (props.margin ? props.theme.spacing[2] : \"\")};\n\n  ${mediaQuery.minWidth.md} {\n    ${mediaQuery.inputDevice.mouse} {\n      transition: all 0.2s;\n\n      &:hover {\n        transform: scale(1.025);\n      }\n    }\n  }\n\n  ${mediaQuery.dark} {\n    background-color: ${(props) => props.theme.dark.generalBackgroundLight};\n    box-shadow: ${(props) => props.theme.dark.boxShadowLight} 0 3px 10px 0;\n  }\n`;\n\nconst CardHeading = styled(Heading6)`\n  margin-bottom: ${(props) => props.theme.spacing[3]};\n  margin-right: 0;\n  margin-left: 0;\n`;\n\ninterface CardContainerProps {\n  margin: boolean;\n}\n\nexport interface RecentPostCardProps {\n  position: number;\n  slug: string;\n  title: string;\n  image: IGatsbyImageData;\n  description: string;\n  trackingCategory: string;\n  trackingLabel: string;\n}\n\nexport const RecentPostCard: React.FC<RecentPostCardProps> = ({\n  position,\n  slug,\n  title,\n  image,\n  description,\n  trackingCategory,\n  trackingLabel,\n}) => (\n  <CardContainer margin={position === 1}>\n    <GatsbyImage\n      style={{ overflow: \"hidden\", height: \"200px\" }}\n      imgStyle={{\n        borderTopLeftRadius: \"4px\",\n        borderTopRightRadius: \"4px\",\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n      }}\n      alt={title}\n      image={image}\n    />\n    <CardDescriptionContainer>\n      <CardHeading>{title}</CardHeading>\n      <Paragraph>\n        {description.length! > 150\n          ? `${description?.substr(0, 150)}...`\n          : description}\n      </Paragraph>\n      <CardButton\n        key={`${slug}link`}\n        to={slug}\n        trackingData={{\n          action: tracking.action.open_blog_post,\n          category: trackingCategory,\n          label: trackingLabel,\n        }}\n      >\n        Read More\n      </CardButton>\n    </CardDescriptionContainer>\n  </CardContainer>\n);\n","import React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { RecentPostsQuery } from \"../../../../graphql-types\";\nimport { tracking } from \"../../../logic/tracking\";\nimport { Heading4 } from \"../atoms/heading4\";\nimport styled from \"styled-components\";\nimport { RecentPostCard } from \"../molecules/recent-post-card\";\nimport { mediaQuery } from \"../utils-css/media-query\";\nimport { useShuffleArray } from \"../hooks/use-shuffle-array\";\n\nconst Recent = styled(Heading4)`\n  margin: ${(props) => props.theme.spacing[2]} 0;\n`;\n\nconst CardsContainer = styled.div`\n  display: block;\n  width: 100%;\n\n  ${mediaQuery.minWidth.md} {\n    display: flex;\n    flex-direction: row;\n  }\n`;\n\nconst ReadNextContainer = styled.div`\n  margin: ${(props) => props.theme.spacing[4]} 0;\n`;\n\nexport interface RecentPostsProps {\n  currentSlug: string;\n}\n\nexport const RecentPosts: React.FC<RecentPostsProps> = ({ currentSlug }) => {\n  const data = useStaticQuery<RecentPostsQuery>(\n    graphql`\n      query RecentPosts {\n        allMarkdownRemark(\n          limit: 15\n          sort: { fields: frontmatter___date, order: DESC }\n        ) {\n          edges {\n            node {\n              frontmatter {\n                image {\n                  childImageSharp {\n                    gatsbyImageData(layout: FULL_WIDTH)\n                  }\n                }\n                title\n                description\n              }\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n\n  return (\n    <ReadNextContainer>\n      <Recent>Read next</Recent>\n      <CardsContainer>\n        {useShuffleArray(\n          data.allMarkdownRemark.edges.filter(\n            (post) => post.node!.fields!.slug !== currentSlug\n          )\n        )\n          .slice(0, 3)\n          .map((post, index) => (\n            <RecentPostCard\n              key={post.node.fields!.slug!}\n              position={index}\n              slug={post.node.fields!.slug!}\n              title={post.node.frontmatter!.title!}\n              image={\n                post.node.frontmatter!.image!.childImageSharp!.gatsbyImageData!\n              }\n              description={post.node.frontmatter!.description!}\n              trackingCategory={tracking.category.blog_post}\n              trackingLabel={tracking.label.body}\n            />\n          ))}\n      </CardsContainer>\n    </ReadNextContainer>\n  );\n};\n\nexport default RecentPosts;\n","export const useShuffleArray = <T>(array?: T[]): T[] => {\n  if (!array) {\n    return Array<T>(0);\n  }\n\n  let currentIndex = array.length;\n  let randomIndex;\n  const newArray = Array<T>(...array);\n\n  while (currentIndex !== 0) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    const elementAtRandomIndex = array[randomIndex];\n    const elementAtCurrentIndex = newArray[currentIndex];\n\n    newArray[currentIndex] = elementAtRandomIndex;\n    newArray[randomIndex] = elementAtCurrentIndex;\n  }\n\n  return newArray;\n};\n"],"names":["CallToActionInternal","styled","Link","callToActionStyle","CallToActionInternalWithTracking","children","className","to","trackingData","onClick","trackWith","css","props","theme","fontSizes","light","accentColor","textAbovePrimaryColor","spacing","mediaQuery","dark","Heading6","headingStyle","CardButton","CardDescriptionContainer","CardContainer","generalBackgroundLight","boxShadowLight","margin","CardHeading","RecentPostCard","position","slug","title","image","description","trackingCategory","trackingLabel","G","style","overflow","height","imgStyle","borderTopLeftRadius","borderTopRightRadius","width","objectFit","alt","length","substr","key","action","tracking","category","label","Recent","Heading4","CardsContainer","ReadNextContainer","RecentPosts","currentSlug","data","useStaticQuery","array","Array","randomIndex","currentIndex","newArray","Math","floor","random","elementAtRandomIndex","elementAtCurrentIndex","useShuffleArray","allMarkdownRemark","edges","filter","post","node","fields","slice","map","index","frontmatter","childImageSharp","gatsbyImageData"],"sourceRoot":""}