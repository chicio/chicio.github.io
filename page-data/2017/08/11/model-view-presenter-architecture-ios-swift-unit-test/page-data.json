{
    "componentChunkName": "component---src-templates-post-tsx",
    "path": "/2017/08/11/model-view-presenter-architecture-ios-swift-unit-test/",
    "result": {"data":{"markdownRemark":{"html":"<p><em>In this post I will talk about the model view presenter architectural pattern and how it can improve you unit test and\nyour TDD workflow when developing an iOS application.</em></p>\n<hr>\n<p>Unit test in iOS application is in some way \"hard\". The architectural pattern implemented by default on iOS is\nthe <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" title=\"Model View Controller\">Model View Controller</a>. This\narchitecture provides you a clear separation between the UI and the business logic. The problem is that most of the time\nyou have to fight with \"Massive View Controllers\" that act as glue between the model and a lot of UI/view code and that,\nfor this reason, are not so easy to test. This basically means that most of the time\nthe <a href=\"https://en.wikipedia.org/wiki/Presentation_logic\" title=\"presentation logic\">presentation logic</a>, how the business model\nis displayed to the user in the User Interface, is tested in the wrong way, or maybe worst it is not tested.<br>\nThis is were the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\" title=\"Model view presenter\">Model View Presenter</a> could\nsave us. In this architectural pattern all the <em>presentation logic is moved from the view controller to a new component,\nthe presenter</em>. This means that it will manage <em>model objects</em> to retrieve the data and then prepare it to be displayed\nby the <em>view, that will be our View Controller</em>. This one becomes a passive interface that has the only responsibility\nto show data returned by the presenter in the specific platform User Interface component. In this way the presenter is a\ncomponent without any platform specific dependency, that works only on the view and other model objects, injected at\nconstruction time. In this way all dependencies could be mocked and you can unit test basically everything!! <img class=\"emoji-icon\" alt=\"emoji-relaxed\" data-icon=\"emoji-relaxed\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-relaxed\"><br>\nNow it's time to see the Model View Presenter in action!! <img class=\"emoji-icon\" alt=\"emoji-grin\" data-icon=\"emoji-grin\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-grin\"> We will create a simple app that shows a list on\nproducts in a <code class=\"language-text\">UITableView</code>. On the tap of a cell the product detail is shown. An error will be displayed if an error\noccurs when the products are retrieved or when it doesn't contain all the data needed to show its detail. We will\ndevelop this app\nusing <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" title=\"Test Driven Development\">Test Driven Development</a>\ntechnique, and I will show the unit tests created for each class implemented. These unit tests will also be written\nusing the <a href=\"https://en.wikipedia.org/wiki/Given-When-Then\" title=\"Given-then-when\">\"Given-then-when\"</a> structure, typically used\nin <a href=\"https://en.wikipedia.org/wiki/Behavior-driven_development\" title=\"Behaviour Driven Development\">Behaviour Driven Development</a>\n. Even if not related to this article, I like this way of writing unit tests because they are more expressive, so I will\nuse it in all my code. Below you can find a mockup of what we want to achieve.</p>\n<p><img src=\"../images/posts/mockup-model-view-presenter.jpg%22\" alt=\"A mockup of the final app we will obtain at the end of this post\"></p>\n<p>Let's start by creating a <code class=\"language-text\">Product</code> struct that we will use to describe our products. Each product will be composed of a\nname, a description and an image (identified by its name):</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n    <span class=\"token keyword\">let</span> description<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n    <span class=\"token keyword\">let</span> image<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> description<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> description\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> image\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The products objects will be retrieved using\na <a href=\"https://martinfowler.com/eaaCatalog/repository.html\" title=\"Repository\">Repository</a>. First of all we need to define\na <code class=\"language-text\">Repository</code> protocol. Generally speaking, we will try to define a protocol for all our classes so that we can work\nusing abstraction (and not concrete implementation) to obtain the highest decoupling between our classes. Last but not\nleast (and maybe the most important thing) by using protocols we will be able to produce some mocks/spies of our\ncomponents in our unit tests.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Repository</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">get</span><span class=\"token punctuation\">(</span>finish<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In our case the repository will not retrieve the data from a real datasource or using a service. All data will be\nretrieved from a local array inside the repository. This is the final implementation of our repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductsRepository</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Repository</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">get</span><span class=\"token punctuation\">(</span>finish<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">DispatchQueue</span><span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span><span class=\"token function\">asyncAfter</span><span class=\"token punctuation\">(</span>deadline<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">.</span><span class=\"token function\">milliseconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> products <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Car\"</span></span><span class=\"token punctuation\">,</span> description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"A beautiful car\"</span></span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"car\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Book\"</span></span><span class=\"token punctuation\">,</span> description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"\"</span></span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"book\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">]</span>\n            <span class=\"token function\">finish</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Even if out of our scope, below you can find the unit tests for our <code class=\"language-text\">ProductsRepository</code>. They are interesting because\nyou can find an example of unit test with expectation (another thing to be discussed sooner or later :\nstuck_out_tongue_winking_eye:).</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductsRepositoryTests</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">XCTestCase</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsRepository<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsRepository</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testProductsRetrieved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductsRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        whenTheRepositoryTryToRetrieveProducts <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">unowned</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> products<span class=\"token punctuation\">,</span> repositoryExpectation <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">thenTheProductsListIsRetrieved</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">:</span> products<span class=\"token punctuation\">,</span>\n                                                expectation<span class=\"token punctuation\">:</span> repositoryExpectation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">thenTheRepositoryFinishedToTryToRetrieve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductsRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsRepository <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">whenTheRepositoryTryToRetrieveProducts</span><span class=\"token punctuation\">(</span>finish<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">XCTestExpectation</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> repositoryExpectation <span class=\"token operator\">=</span> <span class=\"token function\">expectation</span><span class=\"token punctuation\">(</span>description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"RepositoryExpectation\"</span></span><span class=\"token punctuation\">)</span>\n        productsRepository<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span> <span class=\"token punctuation\">{</span> products <span class=\"token keyword\">in</span>\n            <span class=\"token function\">finish</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">,</span> repositoryExpectation<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductsListIsRetrieved</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> expectation<span class=\"token punctuation\">:</span> <span class=\"token class-name\">XCTestExpectation</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertNotNil</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">)</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>products<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        expectation<span class=\"token punctuation\">.</span><span class=\"token function\">fulfill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheRepositoryFinishedToTryToRetrieve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">waitForExpectations</span><span class=\"token punctuation\">(</span>timeout<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> error <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> error <span class=\"token operator\">=</span> error <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">XCTFail</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Repository finish() not called: </span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">error</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now it's time to develop our <code class=\"language-text\">ProductsPresenter</code> presenter. It will need a view to which it will delegate the real user\ninterface operation and the Repository to retrieve the products data. It will be responsible to manage:</p>\n<ul>\n<li><strong>the start of the view in the</strong> <code class=\"language-text\">onStart()</code> method. In this method we will have to update the view to show a loading\nstatus (that will be a <code class=\"language-text\">UIActivityIndicator</code> in the view implementation), then try to retrieve the products from the\nrepository and show them on the view if everything goes fine. If something goes wrong show on the view an error\nmessage. In any case, it also need to hide the loading status after the retrieve operation has been completed.</li>\n<li><strong>the show detail action in the</strong> <code class=\"language-text\">onSelected(product: Product)</code> method. In this method we will have to check if all\nthe product data is correct, that in our case means that the product must have a valid product. If it is valid, show\nits detail in the view, else an error message.</li>\n</ul>\n<p>We start by defining the protocol <code class=\"language-text\">ProductView</code>, that contains all the valid operation of the view that our presenter\nwill use:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">ProductsView</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">hideLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>title aTitle<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showDetailFor</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now we are ready to proceed with the <code class=\"language-text\">ProductsPresenter</code> implementation:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductsPresenter</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">unowned</span> <span class=\"token keyword\">let</span> productsView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsView</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">let</span> productsRepository<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Repository</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsView</span><span class=\"token punctuation\">,</span> productsRepository<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Repository</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>productsView <span class=\"token operator\">=</span> productsView\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>productsRepository <span class=\"token operator\">=</span> productsRepository\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsView<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Products\"</span></span><span class=\"token punctuation\">)</span>\n        productsView<span class=\"token punctuation\">.</span><span class=\"token function\">showLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productsRepository<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">unowned</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> retrievedProducts <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">tryToShow</span><span class=\"token punctuation\">(</span>retrievedProducts<span class=\"token punctuation\">:</span> retrievedProducts<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>productsView<span class=\"token punctuation\">.</span><span class=\"token function\">hideLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tryToShow</span><span class=\"token punctuation\">(</span>retrievedProducts<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> products <span class=\"token operator\">=</span> retrievedProducts <span class=\"token punctuation\">{</span>\n            productsView<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">:</span> products<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            productsView<span class=\"token punctuation\">.</span><span class=\"token function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"No products available\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">onSelected</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> product<span class=\"token punctuation\">.</span>description <span class=\"token operator\">!=</span> <span class=\"token string-literal\"><span class=\"token string\">\"\"</span></span> <span class=\"token punctuation\">{</span>\n            productsView<span class=\"token punctuation\">.</span><span class=\"token function\">showDetailFor</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> product<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            productsView<span class=\"token punctuation\">.</span><span class=\"token function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Product without description\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Develop a class like this one in TDD it's easy, given the fact that we can mock every dependencies it has and we can\ntest in detail all the presentation flow. The unit test of our presenter are shown below. <em>You can note that a lot of\nhandcraft made mock objects are used but not reported here (you will find them in the complete project on Github\nreported at the end of this article)</em>.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductsPresenterTests</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">XCTestCase</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsRepositoryWithProducts<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsRepositoryWithProductsSpy</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsRepositoryWithoutProducts<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsRepositoryWithoutProductsSpy</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsViewSpy</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productPresenter<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsPresenter</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testOnStartWithProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductsRepositoryWithProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsPresenterWith</span><span class=\"token punctuation\">(</span>repository<span class=\"token punctuation\">:</span> productsRepositoryWithProducts<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenTheProductsPresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductViewShowsLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTryToRetrieveProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductViewHidesLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductsViewShowsTheProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testOnStartWithoutProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductsRepositoryWithoutProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsPresenterWith</span><span class=\"token punctuation\">(</span>repository<span class=\"token punctuation\">:</span> productsRepositoryWithoutProducts<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenTheProductsPresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductViewShowsLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTryToRetrieveProductFromEmptyRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductViewHidesLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductsViewShowsAnErrorMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testOnProductWithDescriptionSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductsRepositoryWithProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsPresenterWith</span><span class=\"token punctuation\">(</span>repository<span class=\"token punctuation\">:</span> productsRepositoryWithProducts<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenAProductWithDescriptionIsSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductDetailIsShown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testOnProductWithoutDescriptionSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductsRepositoryWithProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductsPresenterWith</span><span class=\"token punctuation\">(</span>repository<span class=\"token punctuation\">:</span> productsRepositoryWithProducts<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenAProductWithoutDescriptionIsSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductsViewShowsAnErrorMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductsRepositoryWithProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsRepositoryWithProducts <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsRepositoryWithProductsSpy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductsRepositoryWithoutProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsRepositoryWithoutProducts <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsRepositoryWithoutProductsSpy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductsView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsView <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsViewSpy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductsPresenterWith</span><span class=\"token punctuation\">(</span>repository<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Repository</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productPresenter <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsPresenter</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">:</span> productsView<span class=\"token punctuation\">,</span> productsRepository<span class=\"token punctuation\">:</span> repository<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">whenTheProductsPresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">whenAProductWithDescriptionIsSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onSelected</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Car\"</span></span><span class=\"token punctuation\">,</span>\n                                                     description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"A beautiful car\"</span></span><span class=\"token punctuation\">,</span>\n                                                     image<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"car\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">whenAProductWithoutDescriptionIsSelected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onSelected</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Car\"</span></span><span class=\"token punctuation\">,</span>\n                                                     description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"\"</span></span><span class=\"token punctuation\">,</span>\n                                                     image<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"car\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>showTitleHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTryToRetrieveProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsRepositoryWithProducts<span class=\"token punctuation\">.</span>getHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductViewShowsLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>showLoadingStatusHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductViewHidesLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>hideLoadingStatusHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductsViewShowsTheProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>showProductsHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTryToRetrieveProductFromEmptyRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsRepositoryWithoutProducts<span class=\"token punctuation\">.</span>getHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductsViewShowsAnErrorMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>showsErrorMessageHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductDetailIsShown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">.</span>showDetailForProductHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It easy to see that the unit tests for our presenter describe the entire presentation flow. This basically means that\nour unit tests are the documentation of our presentation logic. Cool!!!! <img class=\"emoji-icon\" alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\">\nNow the next big question is: who is going to implement our <code class=\"language-text\">ProductsView</code> protocol? As we said in the introduction, our\nview controllers become the View in the Model View Presenter architecture. They act as passive platform specific user\ninterface components updater. This means that our protocol will be implemented by <code class=\"language-text\">ProductsViewController</code>. It have the\nresponsibility to launch the <code class=\"language-text\">ProductsPresenter</code> action at the right time and implement all the real passive User\nInterface update operation. In particular we will have our <code class=\"language-text\">onStart()</code> presenter method call in the <code class=\"language-text\">viewDidLoad</code> and\nthe <code class=\"language-text\">onSelected(product: Product)</code> when a product cell is tapped, that means a product has been selected. The final\nimplementation will be:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductsViewController</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIViewController</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">UITableViewDataSource</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">UITableViewDelegate</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ProductsView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> productsTableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token operator\">!</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> productsLoadingView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIView</span><span class=\"token operator\">!</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> productsActivityIndicator<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIActivityIndicatorView</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productSelected<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsRepository<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsRepository</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productsPresenter<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductsPresenter</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">initializeDependencies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productsPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">initializeDependencies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        productsRepository <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productsPresenter <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductsPresenter</span><span class=\"token punctuation\">(</span>productsView<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> productsRepository<span class=\"token punctuation\">:</span> productsRepository<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//MARK: ProductsView</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>title aTitle<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        title <span class=\"token operator\">=</span> aTitle\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsActivityIndicator<span class=\"token punctuation\">.</span><span class=\"token function\">startAnimating</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productsLoadingView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">hideLoadingStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsActivityIndicator<span class=\"token punctuation\">.</span><span class=\"token function\">stopAnimating</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productsLoadingView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>products<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsList <span class=\"token operator\">=</span> products\n        productsTableView<span class=\"token punctuation\">.</span><span class=\"token function\">reloadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> alert <span class=\"token operator\">=</span> <span class=\"token class-name\">UIAlertController</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Error\"</span></span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">:</span> message<span class=\"token punctuation\">,</span> preferredStyle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">)</span>\n        alert<span class=\"token punctuation\">.</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UIAlertAction</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Ok\"</span></span><span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">unowned</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> action <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">present</span><span class=\"token punctuation\">(</span>alert<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showDetailFor</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productSelected <span class=\"token operator\">=</span> product\n        <span class=\"token function\">performSegue</span><span class=\"token punctuation\">(</span>withIdentifier<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"ShowProductDetail\"</span></span><span class=\"token punctuation\">,</span> sender<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//MARK: Segue</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> segue<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIStoryboardSegue</span><span class=\"token punctuation\">,</span> sender<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Any</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> productDetailViewController <span class=\"token operator\">=</span> segue<span class=\"token punctuation\">.</span>destination <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token class-name\">ProductDetailViewController</span> <span class=\"token punctuation\">{</span>\n            productDetailViewController<span class=\"token punctuation\">.</span>product <span class=\"token operator\">=</span> productSelected\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//MARK: UITableView Datasource</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token punctuation\">,</span> numberOfRowsInSection section<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Int</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> productsList<span class=\"token punctuation\">.</span>count\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token punctuation\">,</span> cellForRowAt indexPath<span class=\"token punctuation\">:</span> <span class=\"token class-name\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">UITableViewCell</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> cell <span class=\"token operator\">=</span> tableView<span class=\"token punctuation\">.</span><span class=\"token function\">dequeueReusableCell</span><span class=\"token punctuation\">(</span>withIdentifier<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"ProductCell\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> indexPath<span class=\"token punctuation\">)</span>\n        cell<span class=\"token punctuation\">.</span>textLabel<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> productsList<span class=\"token punctuation\">[</span>indexPath<span class=\"token punctuation\">.</span>row<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name\n        <span class=\"token keyword\">return</span> cell\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//MARK: UITableView Delegate</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token punctuation\">,</span> didSelectRowAt indexPath<span class=\"token punctuation\">:</span> <span class=\"token class-name\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productsPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onSelected</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> productsList<span class=\"token punctuation\">[</span>indexPath<span class=\"token punctuation\">.</span>row<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You don't need unit tests for the controller: the presenter unit tests assure that our presentation logic is the one\nexpected. The view controller is only updating iOS specific User Interface components (something we hope Apple tested\nfor us <img class=\"emoji-icon\" alt=\"emoji-smirk\" data-icon=\"emoji-smirk\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAUKElEQVR4Ae2bBZAcR7auv5NZ1dXd09MDYskCy5KZ2V5m3jAs7969zMzMzMx87/LG3mU2s7Uys62xmIebuyrzvKnpjFBHh6Qw2/e9l6E/MntmuvJ8/zmVlVXq5v+3/9/+f/t/ugnPc/sNMB/6EBsj5SwMZ4iwSWClsTKKUg5RNL3TWYUDqmzD81AmPPCRj/Ak4J9XA37j+YGW7d/GxSq8M7a80cRyuo1N2RQMpiCIEbAD3jtFveK7uTwu9U2f6sOp4xuifOHE/2YLoC/pCtj6DspLRnmPsXxXoWheZkvGmLLFJDm4IsYjVhckIANTq6Iul6De4LuC73h80+Fa3nfb/lbv+LepWT4FNJ8zAxaCftatViPasJYPRbH8dKFkzrTDEWbIYIuKiT2SFDClUWx1NQwtR8orkUIFMQUA1HfRbh1tHoDGIdz8PnxrFu108anBtQXf8LhaRrflH8xS/dMdu/kIkD1rA65/Nc+qrV7NxcWY3ytW7OuikYioapHEYYoR0ehazMrzMCsuQCqbkOI4RGUQC0JfRQsooA6yJtqeRuvb8Afvwh+4h2x2N76doR1LNu/I5jLadXdtO+WXgC3PyoDHPsAzaqd8DHnyg/xUsSy/WRiLh+xoTFT2mHJEtOIs7Po3YpZdDKXxAJcBHjRAC6AcZSyAAYlAgNY0/vAW3M5vkB18AN/MyJoGN5vSnUkb7ab++saP8meAvlBrgGx9N9VlJf6mOGw/FC8tEI1YbMkRLT8Zu+lqzPJLISqCdkEdIoZn0lR9qJYCZG38oTtw2z5DduhxXMuSzTnSyS7tmvvI4RY/cuGnmQf0+TRA7n4nq8bH+Wh5JHp1vKJANCxElYX+pDdhNlyNJKPg2wiAyDObTRl0AgUwRbQzi9+xYMLE18nqXbKakh7s0pzLbpie5oPnf4H9gD73BgT4peN8rrgkvihZlmCHIRobIzrt/ZgVrwBNETyIPLfXGO03woDE+IM3kz3ycbKZGVwNOoc7tKfSb01Oc8XTMcE+VfivvYmx9cv59AL85cnKBDsixEuWEp/1vZil5yK+gWgGONCsJ0L/XAm3OIdoG6msx4ysRxqPobQwBYt4XVPAX/SmFXz+IxO0eQoteopVYk5dyV8Vx6JXJssTbNUQj40SnfZtmOoGSGdATP9i9rxUQP9rcS1kYe7o9G+DR/4TZJbEJ+D1ladq9lfAtwMe0GdeAQH+8Q/xU5VR+9OFlckCeEQ8nBBtugIZPWUx8+AHM/78Cwe+Bck4pjiM1B8Ho2AE0/Vnf9/JWv/r+7njma8BAf62d3PBhjG5rrimOFRYlhBVIVr7csya1/eARRAA4YVtCgqgCkT4vdeQ7b6FbB66+Xqwt93YMaOvvfzT3HW8SrDHg/+2FRSvOJP/LC8rbM7h46rFjq/Crn5tz23NEDJQ98JmP0g0DeMUKS6Dzh7ENXpJcVoopu6UqX188v4G7umeAgawn7qCD1RH7Y8VViREowl2yGJXXoKUl4PvIAwsevoimeBTMBZZEM2dgAFVpO3XX7RKJ/7mAR4ANNdTMUAA+4sXM/Ky1fJvxRWFpfGShKhisSPLMEvOARxC2pf5F1dCzwSJStA50NtOq6BOoeFOLcZ89Ja9dI9mQHSs7L9/E1cnVXtKVI0wpQUlBqmsAVHEN0GEl1ITVVSixRhNc2ox5jz2pJqd8v5N2dW/v4X/DAa44xkguS4ZJxkuyndHVYsZirBFgyQJUhxBfAvw4S/Dfb0JZmQevPK8NiMQGQDwCk5Bc4GQQh5jkmDTDn6od3M2PO+++5Jx/cSd07jAqMczwP7BKzm/VJYLbSXCFC2mYJBCCTERuBbEsiCDa6QcPNxgvtYljgwrlw8xNF6E1IN7jo2wvTkb020OHGqQZp7qcIEVy4awQ3FvzlTzGBdjNYV0MfacoVROL/yDV+r5r/kctwP+eAYYwK6omHfGFbv4MMMWLBIZiBIQB0Vlcn+dr1+/iy337GfycJ1OJ8MYoVItcsn5a3jflSczMpr0gnouWmyYm+3wic8+zp1376U+38Z7JUkili6rcPF5q3jTa9axdFUF2j6PNY95MXZXtuQsKyq8E/wWwAH+aIugANHGMZLvPpvfLC6NV8ajhUV3TdFgSlUoDvG1b0zwJ397F1vu3Ee71mKoANVKTBJBfbbF1runuOehA1x63hLKZcD3L1juKSo7IuOYnGzwy797GzffvI9Yu4xUIiqlCMkyJg81uPu+Q9y8ZQ+lGDadNIxkDVhQ71Ae13G4Rlb64nb+e6bdbwBEg9f+X7+AjUlRTrElixQsJjZIZME4/u0jD/Hpz04wNmx41RtP4pzLNnHChnHKpQLOeQ4fqnP/1l1ce80EW++f5M2vWwFpBqqAD70eeY32Tw0igID0vS5Ei8eaahne/V0XcPaF61i2vIK1hmary54d09x3+zbuvW07f/l397Fvf53vurKCRHnsusiQs+RMv36Bbvz2a3ikfx2QgUti8borufrMjdF/ltaXiJcUiasFzEjCp75a458+dpjzL1zGB374Us49Ywl0G9BsQZaBCBQLUCoy30yJpg9Qbs2BelAXwPuh9RibUgExobcghmZphGx8JdVyDK02tLugClEE5RIUhrj3oSk+9rd3cPfWw3zfB5bxnrcM4+c6pPNd0qk2rZ0tHnwy+/bXfpbPAG3AHbUCRkvmdJsIEgtizeJC8ugTHf7jM4d55RtX8xO/cClV34BtD4F3ATADn/Z6HNWCAQ9kfuByOTA+5h43C8MUVCm3WrD/AHQ9YEEiMHGvFwPGcu7acTb+0Sv4iz+4YyHWfZy9qcCp6yzSMIssOVPOBv6z/ZMboH9skkhPksj04CNBMXzkS7OcePoIP/1zJ1CdfgJ274SsDi5XDXwTSEG0F1AXcCGDmD7JU5Q5IrHgBLqEO04F0t6crtaLIa0vxpTHlseYx5rHrPQYcpacKWcjHHjQAAmysbCcSMAKUWTYczBj+7Tykz+xjqHZOZirA11wnVDaDAI8P5skGZhDcwHege8A3cXYhmbmFmPNY957MFtkwApEwiIbWECCGDwFYhsxKjZACHRE+M7vW8umUQeHu2ANoCGIwfrJJUeWGKfgeQ6aAtJXSNK3EQJ8+Atj0Lkum5bZxZjbNAOqkDPlbEAMyDGvAkYoigEB0kw5cXXMphGLTrZABFSBnkSAWMAIruWZnHFMzmakDspFw9qVEaWqga6CPpsNkECq1OcdB6cd9abHCCwdi1i1PAILZIpqDzaP9fWnlcjmYtLpDAHEQM4GmKMZIKE3i4wcCdi0MzRr0ju2BnZFEgEPjz3R4dZ7Wzy0rcPh6Yw0VbQXCZVhyxWvrfD2BeGObwIykHAjUBDmp1PueKDD1vtb7NjbpdH0OA8EqFM3JnzvVaOsXhHh074JJpsY53EAgIaEDSxGGg1ck4zztHGg4fLlvSBq+wsRSWDbkyn//aUa9z/aQbxntGxYUhGSYUFEyDzMNhz//KkZymV47StKaEeRp1LsMWQZfPbLTb58XZ3p6YyhgjA+bFhTFawFVWinyoMPt/izuuO3fngJpYLg/REadQ7VBXkPDnK2YIAGEQ3mIfPMq/eoyxYkoMEMAUEQC9+4qcWff7ROMRFO2hSzZMxC6mkddgwlEEegwEhJiARu2tpYMMAg9jhVIKEzwmzN87t/W+fuh1NOXBtx3vklhkpCa8ohbbc4FgOZEyqJYcfBlMd2tjjvtALaBVSDAx5cGlg8OdvxbocVoJMxueiYd6ga1BsEDyH97a7SHRN+9nfHOW1zRLUCsRWcVe66qc11/9WgGMuiCdbAcCKoKmq6BAOO3ywcbigXvy3hO39hmDUrLMUYxArTc8r//HWNuR0p1aqhYMF7pRQJHRxIF1Qg0KjXBbnA4hfZjnU3qEHMdWXn6lRRp+B92OQIGgonB3v7yw3YFGptmA1vjeDll0bs3xFx99dSRoeFNMsNg9e/3iKlLjSPs//xQEje5pMMm883vV3mjEIKeFg5anjHt0X8yx9kpNNKMYGZeeWEkyJOPV3QNAMEwnHQHoNmiqa6yAbKsU4BBbKd837ilK7FO8V7j1GDoEf2J3jcobCft4BRMCCpYg5kvPNdltISy2N3KqUivO4NhsvO9TDpIBKO2UzfmdDOoNW/aw5Q07B23PJtPx9zzecc9Unl7Msj3vjWmNFWhu8oYgz44KmSM/RYupCzAe5Yt8MeyG7dz5Ov2+zbpL6ozqDeAxK25wriQbU3tqEPv1OFZDbj7W81vPkdgjUgHQeTPvzNU3323weuHJEBnfVsGjNs+klL1xkKCOzt4hsKtu9+woH6UMmLd4S+nbMR6ulYBqT/9RB7fuoiJoodPUOzUEIYBBCrAb4nXZBI2BMQTHAgezKiuD+7CvI0DJABAzyhl94cU4pMOQoiaLYg3/dUCiX868We6mJl1FtM5GyDBpiBEDqNlPTgvNyhHUVTwAdxlG26HF2YELgANrwWecrbf2Tg74tAJAj0JIHT9b1XBtT/vLal5Ew5G9AB9FgGpEDrmt3+lqypXtuK6xI2MSEmc3RhFEKPVTBBEmRyEaTHED31vz9Rbr5NeXxCoXDkdGMQPIwF0LANdxnkDFlbfc4EtID0WAYAeKD5Z9/i0ek5fdA1Pdr1+FTBAzKQHSMhaAk61s8Gsy1H12BFFGBqWvj1PzN89psCiQSDjjKfCBKOgQOfKdrxuJYnZ8mZgGZg5HgGtOZTWvfu089p3aPtI5ch9YSJWFDe9wOHsT3KzwIQNsgM6hinQkn45vWCdATvBQjwFrAhhtCLAAj4vv+r6Sha8+QsORPkOr4BGv5o/pdv4ca5ab/D1XouatdDJqB9VWCC7EAvEPqerPRn7djqXy+GhG0PCtd807B6TBge6j+GDByzJwXUSa9qW5489rkZvyNnAeYDmx7PAIAMqE3MUbt9t/6Xm/H4huLD2YMPVGZAkYAlKB/3g/dnV46tSKAEVODh++Bv/sZQVKGSCCtXAXHfcaMjBkguBPECKfg2uLriZj05Q84Ci8qeyv8MKVAHZn/wWm68Y5W/e9WwO1/KgimBiQ1YQWyAOtpDH/pLWoG+akCB/qwHeXANmHhEuOE6YcstwpAVlgwLM3Vl82kS9h6hQlSAMPaC5sognPdkc46Dk/7unAGYDUz6VAwA6ACzc21G/vFe/dufr7q/lZIpSiLEkcdYAxGICJgBEwiQJmTTDnirAil0mjBfg6lJ2LELtm8TJp6AQ/sE64VlI1AuCLV5Zd0ZwmlnA12OGOCDCU7QcEn0bU/aULI5T3vatfPYFxjmgdnAxFM1QMM5M/UXW5l49Vr511eW3A/bRPCxQSIPkfRMUAEGV3oh7Sr33q0cOixkqdJqQa0mzM7A3Gw+hvk5aDUEsh5XKRZGClAwECFEQ3DmxYa3v18oiIf+rNOT+vDstB1O1TmPm3LcuV3+9S+26gQwFVj06RhA8HsaKF/xWf/5bw3L5k1x9kbiCMRgjGCiEI8R8CHbChRg+4Ty87+idGtQiiCyYI0Q53ARFGJICjCaCIUKDFVhZFxYshpO2CysP1k4YYNQrQJzDhocAfe5Qsl3wbfA15R01tM9nDGx23/jis/q54HJwNB9pp8Ss8ByYM2p46z/3NXyKyvW2XPjlZZ43GDHDKYskCgSA5FC2Bq7xPDYfmHPLqVd722ovAMbKXFBKBSgNASVKowuheFhqCwoKQFOoQs0FDqAD1nXMF5c6YGu4Ju9xS6dXtBBx8Fd7t4rPqO/8+g0O4G9wCHAPVMDAErAMmDty9ey7l/fJr+6fI09LV7VM8FUBVMySALEikR9u8FK3zpgCE0DSN9DzSyXQhrGHiAAh74/66SCdsC3fJ75HvwBx6G97pHv/rL+9i272QXsBg4DrWf3Mbm+kHbNI/ce5J5XL9WNQ0ZXYXpBiRICFQAklCrtkMU6MK9QU5gH6rkUGiG8bg8KF45B6NX0emcgZF1z+CZoPV/plWzGk+7P2LfL3/O9X9E/uGUPe4EDofwbz9XnBLuA5lowQb85wV2vXcFoVfQkUVAF8Qp5r4JqnzEiA8UWyplB9cH7HjBeetnO1e0Z6huKzvfg3VQv89t2+G+++/P6VwvJ2dcHPwfwXBkA4WwEdLqD/NN93HfxUplbYd1ZJiPqQdODCGYABFOOuoIjA+AalPWkWVjhO6AtxdfB5fAzSnrI0TyQtW9+jH9+wyf0o9MtJoGDoexnAZ5rAwgmuGCE+dQjuiftsPXkkq4oe12l4TfqCBkk/LWgrg/QA0oYh9cZ4AJ4NxdoW9EmPfCax8150ilPdtCxb7e/+y9u0z/+6et0CzAV4EPm0ef10+LAMLAkaKxkGf7bN3P5q0+Uq0aXmhPtiMEO964QUhJsASgIEgMWpP8miRCuVzQYpinQUVw3ZL6puHrPgNlJv/2G7fo/P/w1bms5asAMMBVUA/SF+spMBRgBxoBRoLqmQuV3Xs2Fl62VNy0Zk7OiipHcBFs2SCJIASTs53MZAwA+gKPhDq7b613TL8Jnda9T0/rA7Xv0679yA1v31qkDYYfHTMh6/cX4zlASqqEaTBgOxkQ/cSEnvm2zufDEMb2wMsyGQskkJhGIBYnARP0VEO7fMyA8wuq2fKdeY8f2Gdn65Sf81r/YynYgC6C1AD8fxp0X80tTBigF+CDKwBCQWDDvOJnlr1zLmlOWmLVLy7q6HDOeRFRiSwKQOjqdjHozZXqyKfsem/K7b9rN3i8+ziEHPgA2gGYADqIF+JfKt8aiYMRQUDm8LgKFIBvk+3qCiY7QB3WD2kArwDeCWkD2Uv3iZAQkQDGoBBQGTDCh728O8P3wQS2gHdQBsv8t3xwVIB5QFPpgQP8qQDCANECmA9LnJ8gXrg0+ORicWwEfFMx4/tv/Aag0Qj8pxPCgAAAAAElFTkSuQmCC\" title=\"emoji-smirk\">). In the same way we developed this components, we can go on and implement our product detail by defining\nfirst of all a <code class=\"language-text\">ProductDetailView</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">ProductDetailView</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>title aTitle<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then our <code class=\"language-text\">ProductDetailPresenter</code> presenter, that will be responsible to check that a valid product to show has been\nreceived:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductDetailPresenter</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">unowned</span> <span class=\"token keyword\">let</span> productDetailView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailView</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">let</span> product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token operator\">?</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailView</span><span class=\"token punctuation\">,</span> product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>productDetailView <span class=\"token operator\">=</span> productDetailView\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>product <span class=\"token operator\">=</span> product\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productDetailView<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Product\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> product <span class=\"token operator\">=</span> product <span class=\"token punctuation\">{</span>\n            productDetailView<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> product<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            productDetailView<span class=\"token punctuation\">.</span><span class=\"token function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Product not valid\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Its unit tests will be:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductDetailPresenterTests</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">XCTestCase</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productDetailPresenter<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailPresenter</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productDetailView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailViewSpy</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testShowDetailOfAProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductDetailView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductDetailPresenterWith</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"aProduct\"</span></span><span class=\"token punctuation\">,</span>\n                                                          description<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"aDescription\"</span></span><span class=\"token punctuation\">,</span>\n                                                          image<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"image\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenThePresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheProductDetailIsShown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">testShowDetailOfAnInvalidProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">givenAProductDetailView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">givenAProductDetailPresenterWith</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">whenThePresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">thenAnErrorMessageIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductDetailView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productDetailView <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductDetailViewSpy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">givenAProductDetailPresenterWith</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productDetailPresenter <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductDetailPresenter</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">:</span> productDetailView<span class=\"token punctuation\">,</span> product<span class=\"token punctuation\">:</span> product<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">whenThePresenterStarts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productDetailPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheTitleIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">.</span>showTitleHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenTheProductDetailIsShown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">.</span>showProductHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">thenAnErrorMessageIsDisplayed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">XCTAssertTrue</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">.</span>showErrorHasBeenCalled<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">....</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductDetailViewSpy</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">var</span> showTitleHasBeenCalled<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n    <span class=\"token keyword\">private</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">var</span> showProductHasBeenCalled<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n    <span class=\"token keyword\">private</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">var</span> showErrorHasBeenCalled<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>title aTitle<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        showTitleHasBeenCalled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        showProductHasBeenCalled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        showErrorHasBeenCalled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Finally our <code class=\"language-text\">ProductDetailViewController</code> that is the view controller for this app section:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductDetailViewController</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIViewController</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ProductDetailView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> nameLabel<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UILabel</span><span class=\"token operator\">!</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> descriptionLabel<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UILabel</span><span class=\"token operator\">!</span>\n    <span class=\"token attribute atrule\">@IBOutlet</span> <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> imageView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIImageView</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">var</span> product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token operator\">!</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> productDetailPresenter<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ProductDetailPresenter</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">initializeDependencies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        productDetailPresenter<span class=\"token punctuation\">.</span><span class=\"token function\">onStart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">initializeDependencies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        productDetailPresenter <span class=\"token operator\">=</span> <span class=\"token class-name\">ProductDetailPresenter</span><span class=\"token punctuation\">(</span>productDetailView<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> product<span class=\"token punctuation\">:</span> product<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//MARK: ProductDetailView</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>title aTitle<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        title <span class=\"token operator\">=</span> aTitle\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">show</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        nameLabel<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> product<span class=\"token punctuation\">.</span>name\n        descriptionLabel<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> product<span class=\"token punctuation\">.</span>description\n        imageView<span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token class-name\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> product<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showErrorWith</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> alert <span class=\"token operator\">=</span> <span class=\"token class-name\">UIAlertController</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Error\"</span></span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">:</span> message<span class=\"token punctuation\">,</span> preferredStyle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">)</span>\n        alert<span class=\"token punctuation\">.</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UIAlertAction</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Ok\"</span></span><span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">unowned</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> action <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">present</span><span class=\"token punctuation\">(</span>alert<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Yeah you made it!! You're at the end of this never ending post <img class=\"emoji-icon\" alt=\"emoji-satisfied\" data-icon=\"emoji-satisfied\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-satisfied\">!!<br>\nNow you can start to create your high quality unit tested apps <img class=\"emoji-icon\" alt=\"emoji-relieved\" data-icon=\"emoji-relieved\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-relieved\">. One final note about the implementation\nabove: <strong>the <code class=\"language-text\">productsView</code> property of the <code class=\"language-text\">ProductsPresenter</code> and <code class=\"language-text\">productDetailView</code> of the <code class=\"language-text\">ProductDetailPresenter</code>\nmust be <code class=\"language-text\">unowned</code> or <code class=\"language-text\">weak</code> to avoid a retain cycle between the presenters and the controllers.</strong></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/b4294/model-view-presenter-ios.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGF4wgMif/EABoQAQACAwEAAAAAAAAAAAAAAAIAEQEDEiL/2gAIAQEAAQUC7cTVv0tOcVyI9qv/xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPwGH/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8Bp//EABsQAAICAwEAAAAAAAAAAAAAAAABAhEhMkEi/9oACAEBAAY/Aqi8G1F0S8rDNenEf//EABwQAQADAQADAQAAAAAAAAAAAAEAESExQVFxkf/aAAgBAQABPyEuwF9Qw3+GCy9vzfY4nAPs4XzKs0GAE//aAAwDAQACAAMAAAAQ9z//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEDAQE/EB4sL//EABcRAQADAAAAAAAAAAAAAAAAAAABIUH/2gAIAQIBAT8QnS3/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxAUSBYY9u95ASJWlPzWV7t0TjsmI3pLHodt9JlaBUBXyc5k5I8AAv3P/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"model view presenter: let&#39;s toast to Unit Tests!\"\n        title=\"model view presenter: let&#39;s toast to Unit Tests!\"\n        src=\"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/b4294/model-view-presenter-ios.jpg\"\n        srcset=\"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/6c669/model-view-presenter-ios.jpg 285w,\n/static/cbe07b5e580fbe7f9f38bf78d0a9da24/882a4/model-view-presenter-ios.jpg 570w,\n/static/cbe07b5e580fbe7f9f38bf78d0a9da24/b4294/model-view-presenter-ios.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">model view presenter: let&#39;s toast to Unit Tests!</figcaption>\n  </figure></p>\n<p>Time to try it yourself in one of your project. If you wanna review the complete project code you can\ncheck <a href=\"https://github.com/chicio/Model-View-Presenter\" title=\"Model View Presenter iOS github repository\">this Github repository</a>\n.</p>","frontmatter":{"title":"Model View Presenter on iOS: no more excuses, write your unit test","comments":true,"authors":["fabrizio_duroni"],"tags":["swift","ios","apple","mobile application development","test driven development","architectural pattern"],"date":"11 Aug 2017","description":"In this post I will talk about the model view presenter architectural pattern and how it can improve you unit test and your TDD workflow when developing an iOS application.","math":false,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/3f4ea/model-view-presenter-ios.jpg","srcSet":"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/3f4ea/model-view-presenter-ios.jpg 600w","sizes":"100vw"},"sources":[{"srcSet":"/static/cbe07b5e580fbe7f9f38bf78d0a9da24/9ff6b/model-view-presenter-ios.webp 600w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}}}},"fields":{"slug":"/2017/08/11/model-view-presenter-architecture-ios-swift-unit-test/","readingTime":{"text":"12 min read"}}},"site":{"siteMetadata":{"author":"Fabrizio Duroni"}}},"pageContext":{"slug":"/2017/08/11/model-view-presenter-architecture-ios-swift-unit-test/"}},
    "staticQueryHashes": ["2621677744","3076394108","3736063423","4028829600"]}