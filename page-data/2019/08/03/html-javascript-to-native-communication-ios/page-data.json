{
    "componentChunkName": "component---src-templates-post-tsx",
    "path": "/2019/08/03/html-javascript-to-native-communication-ios/",
    "result": {"data":{"markdownRemark":{"html":"<p><em>Did you know that it is possible to call Swift code from the JavaScript code of a web page displayed inside a\nWKWebView?</em></p>\n<hr>\n<p>Sooner or later every mobile developer in the world had the following specific need: integrate a website page inside an\napp. Usually the integration to be developed requires a deep integration between web and native: the app must react to\nsome changes in the web page based on the user interactions or some other events (automatic refresh, geolocation etc.).\nThe old way to do this integration was to catch some url change/page load using the classical UIWebView delegate\nmethods. But starting from iOS 8 (this is old but gold <img class=\"emoji-icon\" alt=\"emoji-trophy\" data-icon=\"emoji-trophy\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-trophy\"><img class=\"emoji-icon\" alt=\"emoji-stuck_out_tongue_winking_eye\" data-icon=\"emoji-stuck_out_tongue_winking_eye\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-stuck_out_tongue_winking_eye\">) there's a better way to\ndo this integration using <code class=\"language-text\">WKWebView</code>s and <code class=\"language-text\">WKScriptMessageHandler</code>. In this post I will show you how is it possible to\nuse them to call Swift code from Javascript code inside a webpage.</p>\n<h4>Implementation</h4>\n<p>Suppose for example we have a simple html page that contains a form with 2 input fields and a button. We want to be able\nto read the form data inserted when the user clicks on the button and do some action on the Swift code side. In this\nsample case we will show a simple <code class=\"language-text\">UIAlertController</code> that contains the form data.<br>\nLet's start by setting up the controller that will display the form, <code class=\"language-text\">FormViewController</code>. The first thing to do is to\nsetup the <code class=\"language-text\">WKWebView</code> and add it to the main <code class=\"language-text\">UIView</code> of our controller. After that we can already setup the code that\nwill load the web page in the function <code class=\"language-text\">loadPage</code> (in this case, to keep the example as simple as possible, the webpage\nis loaded from a local file in the <code class=\"language-text\">Bundle</code>).</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FormViewController</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIViewController</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> wkWebView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">WKWebView</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">viewDidAppear</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> animated<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupWKWebview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">loadPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">setupWKWebview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView <span class=\"token operator\">=</span> <span class=\"token class-name\">WKWebView</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">,</span> configuration<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">getWKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">addSubview</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">loadPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> url <span class=\"token operator\">=</span> <span class=\"token class-name\">Bundle</span><span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>forResource<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"form\"</span></span><span class=\"token punctuation\">,</span> withExtension<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"html\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">URLRequest</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The code is pretty basic here. The important thing that you can see in the piece of code above is the call to\na <code class=\"language-text\">getWKWebViewConfiguration</code> method. Let's see the implementation of this method.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FormViewController</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIViewController</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">WKScriptMessageHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token operator\">...</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">getWKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">WKWebViewConfiguration</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> userController <span class=\"token operator\">=</span> <span class=\"token class-name\">WKUserContentController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        userController<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"observer\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">let</span> configuration <span class=\"token operator\">=</span> <span class=\"token class-name\">WKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        configuration<span class=\"token punctuation\">.</span>userContentController <span class=\"token operator\">=</span> userController\n        <span class=\"token keyword\">return</span> configuration\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is where the \"magic binding\" between the Javascript code and the native side happens. In fact, by setting\nthe <code class=\"language-text\">FormViewController</code> as <code class=\"language-text\">WKScriptMessageHandler</code> using the <code class=\"language-text\">WKUserContentController</code>, we will receive each message\nthat is send from the webpage using the message handler <code class=\"language-text\">window.webkit.messageHandlers.observer</code>. As you can\nsee, <code class=\"language-text\">observer</code> is the name that we specified in the <code class=\"language-text\">WKUserContentController</code> configuration during its creation.<br>\nAfter the setup we can implement the <code class=\"language-text\">WKScriptMessageHandler</code> protocol\nmethod <code class=\"language-text\">userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage)</code>\nand decide what to do with the form data received. In this case I decided that the message that we will receive will\nhave the following structure:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;a name>'</span><span class=\"token punctuation\">,</span>\n    email\n<span class=\"token operator\">:</span>\n  <span class=\"token string\">'&lt;an email>'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This message will be converted to a Swift <code class=\"language-text\">Dictionary</code> and will be put in the <code class=\"language-text\">body</code> of the <code class=\"language-text\">WKScriptMessage</code> received\nby the <code class=\"language-text\">WebKit</code> SDK. So we can proceed with the unwrap of each property of this dictionary and show them in\na <code class=\"language-text\">UIAlertViewController</code>. Below you can find the final implementation of the <code class=\"language-text\">FormViewController</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FormViewController</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">UIViewController</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">WKScriptMessageHandler</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> wkWebView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">WKWebView</span><span class=\"token operator\">!</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">viewDidAppear</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> animated<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupWKWebview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">loadPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">setupWKWebview</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView <span class=\"token operator\">=</span> <span class=\"token class-name\">WKWebView</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">,</span> configuration<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">getWKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">addSubview</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">loadPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> url <span class=\"token operator\">=</span> <span class=\"token class-name\">Bundle</span><span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>forResource<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"form\"</span></span><span class=\"token punctuation\">,</span> withExtension<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"html\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>wkWebView<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">URLRequest</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">getWKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">WKWebViewConfiguration</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> userController <span class=\"token operator\">=</span> <span class=\"token class-name\">WKUserContentController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        userController<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"observer\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">let</span> configuration <span class=\"token operator\">=</span> <span class=\"token class-name\">WKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        configuration<span class=\"token punctuation\">.</span>userContentController <span class=\"token operator\">=</span> userController\n        <span class=\"token keyword\">return</span> configuration\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">userContentController</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> userContentController<span class=\"token punctuation\">:</span> <span class=\"token class-name\">WKUserContentController</span><span class=\"token punctuation\">,</span> didReceive message<span class=\"token punctuation\">:</span> <span class=\"token class-name\">WKScriptMessage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>body <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">String</span> <span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">let</span> email <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string-literal\"><span class=\"token string\">\"email\"</span></span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">showUser</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">:</span> email<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> name<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showUser</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> userDescription <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"</span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">email</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\"> </span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">name</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\">\"</span></span>\n        <span class=\"token keyword\">let</span> alertController <span class=\"token operator\">=</span> <span class=\"token class-name\">UIAlertController</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"User\"</span></span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">:</span> userDescription<span class=\"token punctuation\">,</span> preferredStyle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>alert<span class=\"token punctuation\">)</span>\n        alertController<span class=\"token punctuation\">.</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UIAlertAction</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"OK\"</span></span><span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">present</span><span class=\"token punctuation\">(</span>alertController<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Let's see now the implementation of the web page. It will contain a standard html form. We attach a call to\na <code class=\"language-text\">submitForm</code> Javascript function that will get the data from the form (using standard <code class=\"language-text\">getElementById</code> calls) and\nconstruct the message to be sent. After that, we can send the message with the\ncall <code class=\"language-text\">window.webkit.messageHandlers.observer.postMessage(message)</code>. Below you can find the complete implementation of\nthe web page.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>ExploreWKWebViewJavascript<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">function</span> <span class=\"token function\">submitForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> message <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n        email<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      window<span class=\"token punctuation\">.</span>webkit<span class=\"token punctuation\">.</span>messageHandlers<span class=\"token punctuation\">.</span>observer<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Enter your data:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Email:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter email<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name  <span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Name:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>value<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">submitForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span>Click me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>One important thing to note: <code class=\"language-text\">window.webkit.messageHandlers</code> is expose on the <code class=\"language-text\">window</code> as a global object only when your\npage is displayed on a iOS device inside a <code class=\"language-text\">WKWebView</code>. This means that if you're planning to show your webpage with\nthis kind of binding also on other platform, you will need to implement a guard on the <code class=\"language-text\">webkit.messageHandlers</code> object.\nYou can find the complete example in\nthis <a href=\"https://github.com/chicio/Explore-WKScriptMessageHandler\" title=\"WKScriptMessageHandler github repository\">github repository</a>.</p>\n<h4>Conclusion</h4>\n<p>The <code class=\"language-text\">WKWebView</code> and the <code class=\"language-text\">WKScriptMessageHandler</code> are really powerful. They let you implement a deeper web to native\nintegration that could significantly improve the general user experiences. <code class=\"language-text\">WKScriptMessageHandler</code>, another useful tool\nin the toolbox of every iOS Developer <img class=\"emoji-icon\" alt=\"emoji-iphone\" data-icon=\"emoji-iphone\" style=\"display: inline; margin: 0; position: relative; width: 20px\" src=\"data:image/png;base64, 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\" title=\"emoji-iphone\">.</p>","frontmatter":{"title":"Web to native code communication on iOS using WKScriptMessageHandler","comments":true,"authors":["fabrizio_duroni"],"tags":["swift","objective-c","ios","apple","mobile application development","javascript","web development"],"date":"03 Aug 2019","description":"Did you know that it is possible to call Swift/Objective-C code from the JavaScript code of a web page displayed inside a WKWebView?","math":false,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#e8d848","images":{"fallback":{"src":"/static/8c44e44fde2cccb421a40ec7e5c661ec/63440/swift-js.jpg","srcSet":"/static/8c44e44fde2cccb421a40ec7e5c661ec/36c9c/swift-js.jpg 750w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/287ed/swift-js.jpg 1080w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/21644/swift-js.jpg 1366w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/63440/swift-js.jpg 1500w","sizes":"100vw"},"sources":[{"srcSet":"/static/8c44e44fde2cccb421a40ec7e5c661ec/38420/swift-js.webp 750w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/5da49/swift-js.webp 1080w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/b108a/swift-js.webp 1366w,\n/static/8c44e44fde2cccb421a40ec7e5c661ec/6c729/swift-js.webp 1500w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6826666666666666}}}},"fields":{"slug":"/2019/08/03/html-javascript-to-native-communication-ios/","readingTime":{"text":"5 min read"}}},"site":{"siteMetadata":{"author":"Fabrizio Duroni"}}},"pageContext":{"slug":"/2019/08/03/html-javascript-to-native-communication-ios/"}},
    "staticQueryHashes": ["3076394108","379746230","4028829600","630498219"]}